Javaの昔からあるウェブ系技術を知らないなぁと思い、Servletを使ってみる。

Scalaでサーブレットを書いたので、
それをSBTでビルドし、Jettyに実行させる。
`sbt ~jetty:start`とすれば8080ポートでアクセスできる
（この`~`を忘れると動かない。ハマった）。
SBTが色々やってくれるので、Jettyを事前にインストールしておかなくて良い。  
また、gitでprojectディレクトリを無視させているため、
本来projectなものを_projectとしてリポジトリ登録している。
実行前にリネームしてね。  
なお、テンプレートにはFreeMarkerを使った。

昔からあるJava系技術にはよくあることだが、色々冗長で簡潔でない。
高度なことをやるのでなくても、前提がやたら多い。
ネットなどで情報は多いが、
古くなった情報がノイズとして入ってくるため、勉強が結構難しい。

とりあえずweb.xmlで、URLとそれをさばくサーブレットを結びつける。
このとき、HTTPメソッドでは振り分けできないらしい
（その点、RailsのルーティングDSLは偉大だと思う）。  
サーブレットの実装側では、`doGet()`などHTTPメソッド名に
合わせたメソッドをオーバライドしていく。
レスポンスがWriterオブジェクトを持っているので、
そこに書き込んでいくと、それがユーザに届く。

テンプレートのFreeMarkerも、使ってみたがいまいちすっきりしない。
ここから実用的なアプリを組み立てるのはかなり厄介そうな感じである。
というか、仕事ならともかく、学生はJava系サーバを避けるべきだと思う。
どうしてもやるときは、IntelliJなどIDEの力を素直に借りるのが良さそう。



## 参考
- [SBTとJetty](https://github.com/earldouglas/xsbt-web-plugin/blob/master/docs/4.0.x.md)
- [FreeMarker](http://freemarker.org/docs/pgui_quickstart_all.html)